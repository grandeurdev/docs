---
title: Usage
---

# Usage

```jsx
const client  = mqtt.connect("mqtt://mqtt.api.grandeur.tech:1883", {
    username: API_KEY,
    password: AUTH_TOKEN
});

const topicsList = ["devicelfdzibp1qwso0jj7blg4a407/state"];

function subscribe(topic) {
    client.subscribe(topic, function (err) {
        if (!err) {
        console.log("Subscribed to topic", topic);
        }
    });
}

client.on("connect", function () {
    console.log("Connected to Grandeur!");
    topicsList.map(subscribe);
});

client.on("message", function (topic, message) {
    // message is a Buffer.
    console.log("Update on topic", topic, ":", message.toString());
});

client.on("error", function (error) {
    console.log("Error occurred:", error.toString());
    client.end();
});
```